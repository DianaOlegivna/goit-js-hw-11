{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["\nexport const createGalleryCardTemplate = imgInfo => {\n  return `\n      <a class=\"gallery-item\" href=\"${imgInfo.largeImageURL}\">\n        <div class=\"photo-card\">\n          <img src=\"${imgInfo.webformatURL}\" alt=\"${imgInfo.tags}\" loading=\"lazy\" />\n          <div class=\"info\">\n            <p><b>Likes:</b> ${imgInfo.likes}</p>\n            <p><b>Views:</b> ${imgInfo.views}</p>\n            <p><b>Comments:</b> ${imgInfo.comments}</p>\n            <p><b>Downloads:</b> ${imgInfo.downloads}</p>\n          </div>\n        </div>\n        </a>`;\n\n};","const API_KEY = '48302509-34d9f74736e571fd8f4b83a25';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchImages = query => {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n return fetch(`${BASE_URL}?${params}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n\n    return response.json();\n });\n  \n}\n","import { createGalleryCardTemplate } from '../src/js/render-functions';\nimport { fetchImages} from '../src/js/pixabay-api';\nimport SimpleLightbox from \"simplelightbox\";\nimport iziToast from \"izitoast\";\n\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\n\nlet lightbox = new SimpleLightbox('.gallery-item', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\n const toggleLoading = isLoading => {\n    if (isLoading) {\n        galleryEl.innerHTML = '<p>Loading images, please wait...</p>'; \n    } else {\n        galleryEl.innerHTML = '';\n    }\n};\n\nconst onSearchFormSubmit = event => {\n    event.preventDefault();\n\n    const query = event.currentTarget.elements.user_query.value.trim();\n\n    if (query === '') {\n        iziToast.error({ message: 'The search field cannot be empty!!' });\n\n        return;\n    }\n\n    toggleLoading(true);\n\n\n    fetchImages(query)\n        .then(data => {\n            toggleLoading(false);\n\n            if (data.total === 0) {\n              iziToast.warning({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n            });\n\n                searchFormEl.reset();\n\n                return;\n            }\n\n            const galleryTemplate = data.hits.map(el => createGalleryCardTemplate(el)).join('');\n\n            galleryEl.innerHTML = galleryTemplate;\n            lightbox.refresh();\n        })\n        .catch(err => {\n            console.log(err);\n        });\n    \n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);"],"names":["createGalleryCardTemplate","imgInfo","API_KEY","BASE_URL","fetchImages","query","params","response","searchFormEl","galleryEl","lightbox","SimpleLightbox","toggleLoading","isLoading","onSearchFormSubmit","event","iziToast","data","galleryTemplate","el","err"],"mappings":"6vBACO,MAAMA,EAA4BC,GAChC;AAAA,sCAC6BA,EAAQ,aAAa;AAAA;AAAA,sBAErCA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA,+BAEjCA,EAAQ,KAAK;AAAA,+BACbA,EAAQ,KAAK;AAAA,kCACVA,EAAQ,QAAQ;AAAA,mCACfA,EAAQ,SAAS;AAAA;AAAA;AAAA,cCV9CC,EAAU,qCACVC,EAAW,2BAEJC,EAAcC,GAAS,CAClC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAEF,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAM,EAAE,EAAE,KAAKC,GAAY,CACpD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACpB,CAAE,CAEF,ECdMC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAEtD,IAAIC,EAAW,IAAIC,EAAe,gBAAiB,CAC/C,aAAc,MACd,aAAc,GAClB,CAAC,EAEA,MAAMC,EAAgBC,GAAa,CAC5BA,EACAJ,EAAU,UAAY,wCAEtBA,EAAU,UAAY,EAE9B,EAEMK,EAAqBC,GAAS,CAChCA,EAAM,eAAc,EAEpB,MAAMV,EAAQU,EAAM,cAAc,SAAS,WAAW,MAAM,OAE5D,GAAIV,IAAU,GAAI,CACdW,EAAS,MAAM,CAAE,QAAS,oCAAsC,CAAA,EAEhE,MACH,CAEDJ,EAAc,EAAI,EAGlBR,EAAYC,CAAK,EACZ,KAAKY,GAAQ,CAGV,GAFAL,EAAc,EAAK,EAEfK,EAAK,QAAU,EAAG,CACpBD,EAAS,QAAQ,CACf,QAAS,0EACzB,CAAa,EAEGR,EAAa,MAAK,EAElB,MACH,CAED,MAAMU,EAAkBD,EAAK,KAAK,IAAIE,GAAMnB,EAA0BmB,CAAE,CAAC,EAAE,KAAK,EAAE,EAElFV,EAAU,UAAYS,EACtBR,EAAS,QAAO,CAC5B,CAAS,EACA,MAAMU,GAAO,CACV,QAAQ,IAAIA,CAAG,CAC3B,CAAS,CAET,EAEAZ,EAAa,iBAAiB,SAAUM,CAAkB"}